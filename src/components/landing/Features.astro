---
// Features.astro

import feature1Video from '~/assets/videos/feature-1.mp4';
import feature2Video from '~/assets/videos/feature-2.mp4';
import feature3Video from '~/assets/videos/feature-3.mp4';

type Feature = {
  tag: string;
  title: string;
  description: string;
  video: string;
  ctaText: string;
  ctaLink: string;
  ctaNote?: string;
};

const features: Feature[] = [
  {
    tag: 'VISITAS AUTOMATIZADAS',
    title: 'Del portal inmobiliario a tu agenda sin llamadas',
    description:
      'Cada interesado que llega desde Idealista se registra automáticamente y recibe un email personalizado solicitando sus datos y preferencias de visita. Toda la información aparece organizada en tu agenda, ahorrándote 2 horas al día en llamadas.',
    video: feature1Video,
    ctaText: 'Solicita una prueba',
    ctaLink: '/bookdemo/',
  },
  {
    tag: 'BASE DE DATOS CENTRALIZADA',
    title: 'Toda la información de tus clientes y propiedades en un solo lugar',
    description:
      'Mantén un registro completo de cada cliente, sus preferencias e historial de interacciones. Accede al instante a toda la información relevante de una propiedad y sus interesados desde cualquier dispositivo.',
    video: feature2Video,
    ctaText: 'Solicita una prueba',
    ctaLink: '/bookdemo/',
  },
  {
    tag: 'INTELIGENCIA ARTIFICIAL',
    title: 'Conecta automáticamente nuevas propiedades con interesados existentes',
    description:
      'Al añadir una propiedad a tu catálogo, nuestro sistema la cruza automáticamente con los interesados que encajan con sus características. Recibe notificaciones en tiempo real de las coincidencias y contacta a los interesados con un solo clic.',
    video: feature3Video,
    ctaText: 'Solicita una prueba',
    ctaLink: '/bookdemo/',
    ctaNote: 'Próximamente',
  },
];
---

<section class="max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8">
  <!-- Main section title -->
  <div class="text-center mb-16">
    <h2 class="text-5xl font-semibold text-gray-900">
      Optimizado para <br /><span class="text-primary font-medium">acelerar tu agencia</span>
    </h2>
  </div>

  <!-- Features -->
  <div class="space-y-24">
    {
      features.map((feature, index) => (
        <div class={`flex flex-col ${index % 2 === 1 ? 'lg:flex-row-reverse' : 'lg:flex-row'} gap-8 items-center`}>
          <div class="lg:w-1/2 space-y-4">
            <p class="text-sm font-semibold text-gray-500 tracking-wider uppercase">{feature.tag}</p>
            <h3 class="text-4xl text-gray-900">{feature.title}</h3>
            <p class="text-lg text-gray-600">{feature.description}</p>

            <div class="pt-4">
              <a href={feature.ctaLink} class="cta-secondary font-semibold">
                {feature.ctaText}
              </a>
              {feature.ctaNote && <p class="text-sm text-gray-500 mt-4 ml-4">{feature.ctaNote}</p>}
            </div>
          </div>

          <div class="lg:w-1/2 rounded-lg overflow-hidden shadow-lg">
            <video autoplay loop muted playsinline class="w-full">
              <source src={feature.video} type="video/mp4" />
              Your browser does not support the video tag.
            </video>
          </div>
        </div>
      ))
    }
  </div>
</section>
